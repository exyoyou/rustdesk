{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "get-android-pid",
            "type": "shell",
            "command": "${workspaceFolder}/get_pid.sh",
            "options": {
                "shell": {
                    "executable": "zsh"
                },
                "env": {
                    "ANDROID_PID": "" // 必须声明，确保shell脚本可以正确的export这个命令
                }
            },
            "presentation": {
                "reveal": "always", // 在调试控制台中显示任务输出
                "panel": "new" // 在新的面板中显示任务输出，方便查看
            },
            "problemMatcher": []
        },
        {
            "label": "build-rust-optional-linux",
            "type": "shell",
            "command": "zsh",
            "args": [
                "${workspaceFolder}/.vscode/build_rust.sh",
                "${input:shouldBuildRust}",
                "linux"
            ],
        },
        {
            "label": "build-rust-optional-android-x86_64",
            "type": "shell",
            "command": "zsh",
            "args": [
                "${workspaceFolder}/.vscode/build_rust.sh",
                "${input:shouldBuildRust}",
                "android",
                "x86_64"
            ],
        },
        {
            "label": "build-rust-optional-android-arm64",
            "type": "shell",
            "command": "zsh",
            "args": [
                "${workspaceFolder}/.vscode/build_rust.sh",
                "${input:shouldBuildRust}",
                "android",
                "arm64"
            ],
        }
    ],
    "inputs": [
        {
            "id": "shouldBuildRust",
            "type": "promptString",
            "description": "Compile Rust code? (true/false, default: false)",
            "default": "false"
        },
        {
            "id": "androidRunId",
            "type": "promptString",
            "description": "请输入远程android的程序pid",
            "default": ""
        },
    ]
}